{% extends 'core_admin/base.html' %}
{% load static %}

{% block title %}Configurações - PONTI Admin{% endblock %}

{% block page_title %}Configurações do Site{% endblock %}

{% block breadcrumb %}
<span class="breadcrumb-item">Dashboard</span>
<span class="breadcrumb-item">Configurações</span>
{% endblock %}

{% block content %}
<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    
    <div class="grid grid-cols-1 gap-6">
        <!-- Informações Básicas -->
        <div class="admin-card">
            <div class="card-header">
                <h3 class="card-title">
                    <i class="fas fa-info-circle"></i>
                    Informações Básicas
                </h3>
            </div>
            <div class="card-content">
                <div class="grid grid-cols-1 gap-4">
                    <div class="form-group">
                        <label class="form-label" for="nome_site">Nome do Site</label>
                        <input type="text" id="nome_site" name="nome_site" 
                               value="{{ config.nome_site }}" class="form-control">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="descricao_site">Descrição do Site</label>
                        <textarea id="descricao_site" name="descricao_site" 
                                  class="form-control" rows="3">{{ config.descricao_site }}</textarea>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Logos -->
        <div class="admin-card">
            <div class="card-header">
                <h3 class="card-title">
                    <i class="fas fa-image"></i>
                    Logos do Site
                </h3>
            </div>
            <div class="card-content">
                <div class="grid grid-cols-3 gap-6">
                    <div class="form-group">
                        <label class="form-label" for="logo_header">Logo do Header</label>
                        <input type="file" id="logo_header" name="logo_header" 
                               class="form-control" accept="image/*">
                        {% if config.logo_header %}
                            <div class="mt-2">
                                <img src="{{ config.logo_header.url }}" alt="Logo Header" 
                                     class="w-20 h-20 object-contain border border-gray-200 rounded">
                                <p class="text-xs text-gray-500 mt-1">Logo atual do header</p>
                            </div>
                        {% else %}
                            <div class="mt-2">
                                <img src="/static/assets/images/logo_pmnf.png" alt="Logo Header Padrão" 
                                     class="w-20 h-20 object-contain border border-gray-200 rounded">
                                <p class="text-xs text-gray-500 mt-1">Logo padrão (fallback)</p>
                            </div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="logo_geral">Logo Geral</label>
                        <input type="file" id="logo_geral" name="logo_geral" 
                               class="form-control" accept="image/*">
                        {% if config.logo_geral %}
                            <div class="mt-2">
                                <img src="{{ config.logo_geral.url }}" alt="Logo Geral" 
                                     class="w-20 h-20 object-contain border border-gray-200 rounded">
                                <p class="text-xs text-gray-500 mt-1">Logo atual geral</p>
                            </div>
                        {% else %}
                            <div class="mt-2">
                                <img src="/static/assets/images/logo_com_pmnf.png" alt="Logo Geral Padrão" 
                                     class="w-20 h-20 object-contain border border-gray-200 rounded">
                                <p class="text-xs text-gray-500 mt-1">Logo padrão (fallback)</p>
                            </div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="logo_hero">Logo Hero</label>
                        <input type="file" id="logo_hero" name="logo_hero" 
                               class="form-control" accept="image/*">
                        {% if config.logo_hero %}
                            <div class="mt-2">
                                <img src="{{ config.logo_hero.url }}" alt="Logo Hero" 
                                     class="w-20 h-20 object-contain border border-gray-200 rounded">
                                <p class="text-xs text-gray-500 mt-1">Logo atual hero</p>
                            </div>
                        {% else %}
                            <div class="mt-2">
                                <img src="/static/assets/images/logo.png" alt="Logo Hero Padrão" 
                                     class="w-20 h-20 object-contain border border-gray-200 rounded">
                                <p class="text-xs text-gray-500 mt-1">Logo padrão (fallback)</p>
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Informações de Contato -->
        <div class="admin-card">
            <div class="card-header">
                <h3 class="card-title">
                    <i class="fas fa-address-card"></i>
                    Informações de Contato
                </h3>
            </div>
            <div class="card-content">
                <div class="grid grid-cols-2 gap-4">
                    <div class="form-group">
                        <label class="form-label" for="endereco">Endereço</label>
                        <textarea id="endereco" name="endereco" class="form-control" 
                                  rows="3" placeholder="Rua, número, bairro, cidade...">{{ config.endereco }}</textarea>
                        <div class="form-help">Pode usar HTML para formatação</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="horario_funcionamento">Horário de Funcionamento</label>
                        <textarea id="horario_funcionamento" name="horario_funcionamento" 
                                  class="form-control" rows="3" 
                                  placeholder="Segunda a Sexta: 8h às 17h...">{{ config.horario_funcionamento }}</textarea>
                        <div class="form-help">Pode usar HTML para formatação</div>
                    </div>
                </div>
                
                <div class="grid grid-cols-2 gap-4">
                    <div class="form-group">
                        <label class="form-label" for="telefone">Telefone</label>
                        <input type="text" id="telefone" name="telefone" 
                               value="{{ config.telefone }}" class="form-control"
                               placeholder="(22) 1234-5678">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="email">E-mail</label>
                        <input type="email" id="email" name="email" 
                               value="{{ config.email }}" class="form-control"
                               placeholder="contato@ponti.com">
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Redes Sociais -->
        <div class="admin-card">
            <div class="card-header">
                <h3 class="card-title">
                    <i class="fas fa-share-alt"></i>
                    Redes Sociais
                </h3>
            </div>
            <div class="card-content">
                <div class="grid grid-cols-2 gap-4">
                    <div class="form-group">
                        <label class="form-label" for="facebook">Facebook</label>
                        <input type="url" id="facebook" name="facebook" 
                               value="{{ config.facebook }}" class="form-control"
                               placeholder="https://facebook.com/ponti">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="instagram">Instagram</label>
                        <input type="url" id="instagram" name="instagram" 
                               value="{{ config.instagram }}" class="form-control"
                               placeholder="https://instagram.com/ponti">
                    </div>
                </div>
                
                <div class="grid grid-cols-2 gap-4">
                    <div class="form-group">
                        <label class="form-label" for="twitter">Twitter/X</label>
                        <input type="url" id="twitter" name="twitter" 
                               value="{{ config.twitter }}" class="form-control"
                               placeholder="https://twitter.com/ponti">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="linkedin">LinkedIn</label>
                        <input type="url" id="linkedin" name="linkedin" 
                               value="{{ config.linkedin }}" class="form-control"
                               placeholder="https://linkedin.com/company/ponti">
                    </div>
                </div>
                
                <div class="grid grid-cols-2 gap-4">
                    <div class="form-group">
                        <label class="form-label" for="youtube">YouTube</label>
                        <input type="url" id="youtube" name="youtube" 
                               value="{{ config.youtube }}" class="form-control"
                               placeholder="https://youtube.com/ponti">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="whatsapp">WhatsApp</label>
                        <input type="text" id="whatsapp" name="whatsapp" 
                               value="{{ config.whatsapp }}" class="form-control"
                               placeholder="5522999999999">
                        <div class="form-help">Apenas números (ex: 5522999999999)</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Botões de Ação -->
    <div class="flex justify-end gap-3 mt-6">
        <a href="{% url 'core_admin:dashboard' %}" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i>
            Voltar ao Dashboard
        </a>
        <button type="submit" class="btn btn-primary">
            <i class="fas fa-save"></i>
            Salvar Configurações
        </button>
    </div>
</form>

<style>
.w-20 {
    width: 5rem;
}

.h-20 {
    height: 5rem;
}

.object-contain {
    object-fit: contain;
}

.border {
    border-width: 1px;
}

.border-gray-200 {
    border-color: var(--gray-200);
}

.rounded {
    border-radius: var(--radius);
}

.mt-2 {
    margin-top: 0.5rem;
}

.mt-1 {
    margin-top: 0.25rem;
}

.text-xs {
    font-size: 0.75rem;
}

.text-gray-500 {
    color: var(--gray-500);
}
</style>
{% endblock %}